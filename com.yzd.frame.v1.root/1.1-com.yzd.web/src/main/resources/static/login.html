<!DOCTYPE html>
<html lang="ch" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>LOGIN-TOKEN-JWT</title>
    <!--//必须放在最开始的位置,可以阻塞JS的执行。通过次来增加非登录下访问的Token-->
    <script type="text/javascript" src="/api/account/getXX"></script>
    <!--//link没有任何作用，不会阻塞js-->
    <link rel="dns-prefetch" href="/api/account/getXX" />
</head>
<body>
<form id="form1" action="http://www.apple.com">
    username:<input type="text" name="user" /><br/>
    password:<input type="password" name="pass"/> </br>
    <input type="submit" value="login" />
</form>
<script>
    //实现使用cookie来记住用户名
    window.onload=function(){
        var TNCookieValue=getCookie('_01TN');
        alert(TNCookieValue);
        //
        var oUser=document.getElementsByName('user');
        var oForm=document.getElementById('form1');
        oForm.onsubmit=function(){
            setCookie('user',oUser.value,14);   //保存14天
        };
        oUser.value=getCookie('_01TN');   //每次刷新页面都将信息取出来

    };

    function setCookie(name,value,days){    //封装一个设置cookie的函数
        var oDate=new Date();
        oDate.setDate(oDate.getDate()+days);   //days为保存时间长度
        document.cookie=name+'='+value+';expires='+oDate;
    }
    //setCookie('password','12345','14');     //保存密码,14天后过期
    function getCookie(name){
        var arr=document.cookie.split(';');
        for(var i=0;i<arr.length;i++){
            var arr2=arr[i].split('=');
            if(arr2[0]==name){
                return arr2[1];  //找到所需要的信息返回出来
            }
        }
        return '';        //找不到就返回空字符串
    }
    function removeCookie(name){
        setCookie(name,1,-1);    //-1表示昨天过期,系统自动删除
    }
</script>
</body>